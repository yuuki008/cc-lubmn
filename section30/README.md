# 仮想関数

virtual がついたメンバ関数のこと。
通常のオーバーライドは、サブクラスのインスタンスからは呼び出せますが、スーパークラスのインスタインスからは呼び出せません。
以下のようにプログラムだとスーパークラスの sing メソッドが呼び出されてしまいます。

```cpp
#include <iostream>

class Base {
public:
    void sing() {
        std::cout << "I'm a Base class" << std::endl;
    }
};

class Derived : public Base {
public:
    void sing() {
        std::cout << "I'm a Derived class" << std::endl;
    }
};

int main() {
    Base* ptr = new Derived();
    ptr->sing();
    delete ptr;
    return 0;
}
```

ここで仮想関数の修飾子である virtual を sing メソッドの前につけることで、スーパークラスのインスタンスからでもサブクラスのインスタンスを呼び出せます。

## 抽象クラスと完全仮想関数

以下のような仮想関数を **純粋仮想関数** と呼ぶ

```cpp
virtual void sing()=0;
```

メソッドは存在が実装がないクラスのことです。

このような完全仮想関数を一つでも持つクラスのことを **抽象クラス** と呼びます。
抽象クラスの最大の特徴は「インスタンスを生成できないこと」です。

## 仮想デストラクタ

スーパークラスのデストラクタに virtual をつけることで、サブクラスのデストラクタも呼び出せるようになります。

# インターフェース

完全仮想関数のみからなるクラスのことで中身の実装がないインターフェースとなる
インターフェースを継承することで、特定のインターフェースを実装し、振る舞うことができる。
そのインターフェースの使い手は、それ以外の別のメソッドを呼び出そうとするとコンパイルエラーになる。
